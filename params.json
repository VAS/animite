{"name":"Animite","tagline":"Flexible web video without Flash or HTML5","body":"Animite v0.1\r\n=======\r\n\r\n\r\n###Mission\r\nAnimite comes from the union of two words: _**anim**ated_ and _spr<b>ite</b>_. Animite's goal is to provide a __flexible__, __codec-less__ way to deal with video on the web, with __no HTML5__ or __Flash__, without sacrificing _efficiency_, _flexibility_ and _versatility_.\r\n\r\nIt boasts fast, high precision seeking, natively variable (even on the fly) playback direction, speed and framerate. Please check out the demo for more information (coming soon). \r\n\r\nTypical CPU usage is about 60% lower when using Animite compared to a Flash video, and has the advantage of not depending on GPU acceleration. It is especially targeted for, and tested on low-end machines.\r\n\r\n**IMPORTANT**: _Audio is **currently** not supported_. However, please know it's our #1 priority and are currently working on it. If you have an idea, or would like to contribute, please __FORK__ :)\r\n\r\n##Features\r\n\r\n###Benefits over traditional video\r\n- Pure Javascript, CSS & HTML\r\n- Codec-free\r\n- Framework independent\r\n- Keyframes, keyframes, keyframes!\r\n- _Fast_ and accurate playback/seeking control\r\n- Flexible playback direction (can play _backwards_ as easily as it plays _forward_)\r\n- Flexible framerate (can be changed as the video plays) ```film.fps = 30; // BAM!```\r\n- Completely stylable with CSS (border-radius, inset box-shadow, opacity, etc)\r\n- Smaller in size than an equivalent AVI or Animated GIF\r\n- Transparency (alpha/opacity) support!\r\n- Browser zoom in/out support\r\n\r\n###Playback controls\r\n- Play forwards/backwards\r\n- Pause\r\n- Stop\r\n- Change framerate on-the-go (fps)\r\n- Change frame increment on-the-go (skipping)\r\n- Seeking (precise to frame)\r\n\r\n###How it works\r\nAnimite works by rapidly moving a single image containing several frames using the CSS ```background-position``` property of any containing element. This image is traditionally called a sprite sheet. We, avid film fanatics, call it a __reel__. \r\n\r\nFor short clips, typically in-game sprite animations, one reel is more than enough to contain all the necessary frames, and standard animated sprite frameworks stop here on this assumption. But we want more.\r\n\r\nFor longer clips, fitting all frames in one image would require too much memory.\r\nWe therefore distribute frames across several __reels__, supporting preloading and at the same time optimizing browser memory consumption.  Several reels also offer flexible video buffering and efficient jpeg/png compression across several frames.\r\n\r\n###When should I use it?\r\nAnimite is perfect if you want to include videos/clips/sprites on a page, you don't need audio, and you don't feel the HTML+FLASH overhead is justified, and you would like complete control.\r\n\r\n##Usage\r\n\r\n###Initialization\r\n```javascript\r\nvar film = new Animite(div, data);\r\n```\r\n- ```div``` is the HTML element that Animite will use to display ```film```. The only requirement is that the element must be able to contain a background.\r\n- ```data``` is a JSON containing general information. Please read the __How to convert a video for Animite__ section to understand what is required.\r\n\r\n###Playback\r\n```javascript\r\nfilm.play();   // can receive a callback as parameter\r\nfilm.stop();   // can receive a callback as parameter\r\nfilm.pause();  // can receive a callback as parameter\r\n\r\nfilm.now;      // returns the current seek position\r\nfilm.now = 20; // will seek the video to 20% of the total play-time\r\n```\r\n\r\n###Seek\r\nThe __seek__ function is the underlying core of Animite. ```film.play```, ```film.pause```, ```film.stop``` and ```film.now``` are all built on top of ```film.seek```.\r\n\r\nIt takes 2 parameters: ```film.seek(frame, step)```.\r\n- ```frame``` = which frame to show\r\n- ```step```  = next increment\r\n\r\n```javascript \r\nfilm.seek(0, 1);\r\n// The above will start the animation from\r\n// frame 0, and progress by 1 frame\r\n// at the specified framerate (fps).\r\n\r\nfilm.seek(20, -1);\r\n// The above will start the animation from\r\n// frame 20, and go in reverse by 1 frame\r\n// at the specified framerate (fps).\r\n\r\nfilm.seek(36, 0);\r\n// The above will seek to frame 36 and pause\r\n```\r\n\r\nWe encourage developers to implement their own player & controls using Animite's very simple API and core functions.\r\nYou can however find an example HTML page where a player, some controls, and subtitle display have been implemented.\r\n\r\n\r\n###Keyframes\r\nOne of Animite's great advantages is keyframe support. With keyframes you can do anything, from adding subtitle cues, to affecting a page or the video itself in any way!\r\n\r\nIt includes:\r\n- Multiple keyframe __channels__ support\r\n- Makes it simple to link to any external script\r\n- __Subtitle support__\r\n  * included .SRT (SubRip) parser/converter (check utils), but you can use your own!\r\n\r\n####Adding KeyFrames\r\nKeyframes can easily be added using: ```film.addKeyFrame(frame, track, comment, callback)```\r\n\r\n```addKeyFrame``` takes 4 parameters:\r\n- ```frame``` : frame number (int)\r\n- ```track``` : keyframe channel (organize your keyframes in categories)\r\n- ```comment``` : general text or comment to store relative to this keyframe\r\n- ```callback``` : add a function to be called __when keyframe is played__.\r\n\r\nExample:\r\n\r\n```Javascript\r\n// adds a keyframe at frame 85, and saves the comment.\r\nfilm.addKeyFrame(85, 'todo', 'Remember to edit this out'); \r\n\r\n\r\n// you can also add a callback\r\nfilm.addKeyFrame(124, 'todo', 'Needs a transition', function(){\r\n\t// affect my view, send triggers, etc here\r\n});\r\n```\r\n\r\nWe could also define a custom ```addKeyFrame``` function on our page:\r\n```javascript\r\nfunction addKeyFrame(frame, track, content, callback) {\r\n    film.addKeyFrame(frame, track, content, callback);\r\n    // affect the view here\r\n}\r\n```\r\nIf we had a seek bar for example, we could visually add an element to show where the added keyframes are located! You can see this in action in the demo.\r\n\r\n###Preloading\r\nAnimite offers accurate preloading states\r\n```javascript \r\nfilm.preloaded.reels; // returns an array of _currently_ preloaded reels\r\nfilm.preloaded.frames; // returns the number of loaded frames (number)\r\nfilm.preloaded.percent; // returns current preloaded percent from 0 to 100\r\n```\r\n\r\nExample:\r\n```javascript\r\n// Please don't use this...but you get the idea\r\nwhile(film.preloaded.percent < 100) {\r\n\t// manage your preloading view states here\r\n}\r\n```\r\n\r\n###Conversion functions\r\n\r\n####Time < > Frame\r\n```javascript\r\nfilm.timeToFrame(100); // e.g. 2400 at 24 fps\r\n// returns the frame # where the 100th second of playback occurs\r\n\r\nfilm.frameToTime(2400);  // e.g. 100 (seconds) at 24 fps\r\n// returns amount of elapsed seconds from frame 0 and 24th frame (at current frame-rate)\r\n```\r\n\r\n####Frame < > Position\r\n```javascript\r\nfilm.frameToPos(100); // e.g. 50 (%) [if total frame count is 200]\r\n// returns the current position\r\n\r\nfilm.posToFrame(50);  // e.g. 100 (seconds) [if total frame count is 200]\r\n// returns the frame closest to exactly 50% of playback\r\n```\r\n\r\n\r\n##How to convert a video for Animite\r\n\r\nAnimite needs **reels** to work. A reel is nothing more than one large image containing all of the single frames of a video clip. You can split long clips into several reels. It is up to you to find the optimal reel/frame ratio based on your bandwidth requirements / memory consumption.\r\n\r\nA part from the fancy name, reels are nothing more than a JPEG or PNG image. For best compression, remember to use\r\n - ```JPEG``` for *photo*-like images\r\n - ```PNG``` for *vector*-like images, or if _transparency is **required**_.\r\n - Animite supports frames on multiple lines within a reel, so try to make the image as square as possible (avoid excessively wide or tall reels.) This will reduce overall memory consumption.\r\n\r\n###Any-2-Reel, the Reel generator.\r\nWe have implemented our own Reel generator (a simple PHP script), and it should work on any system with a command-line, PHP, [FFMPEG](http://www.ffmpeg.org) and ImageMagick [Montage](http://www.imagemagick.org/script/montage.php).\r\n\r\nPlease note that **Animite also requires a JSON file** to understand your reel structure. While our ```any2reel``` script automatically generates one, should you implement your own reel generator, you will need to either write the JSON manually or automatically.\r\n\r\nThe generalized JSON format for Animite is the following: \r\n\r\n```javascript\r\n\r\n{\r\n\twidth : VIDEO_WIDTH,   // number (int)\r\n\theight: VIDEO_HEIGHT,  // number (int)\r\n\tfps : VIDEO_FRAMERATE, // number (float) frames-per-second\r\n\treels : [              // array of reel objects\r\n\t\t{\r\n\t\t\tframes : NUMBER_OF_FRAMES_IN_REEL, // number (int)\r\n\t\t\twidth : PIXEL_WIDTH_OF_REEL,       // number (int)\r\n\t\t\tpath : PATH_TO_REEL                // string\r\n\t\t}\r\n\t]\r\n}\r\n\r\n```\r\n\r\nYou will notice that each reel requires ```frames```, ```width```, and ```path```.\r\n- ```frames``` is the number of frames contained in that particular reel.\r\n- ```width``` is width of the reel (in pixels), so that Animite knows when to go to the next line of frames\r\n- ```path``` is a simple path to the image. If you have ```reel.jpg``` in a ```reels/``` directory, all you need to do is write: ```\"reels/reel.jpg\"``` for example. Think of it as a ```src``` tag (we might consider renaming it).\r\n\r\nA typical JSON: \r\n\r\n```javascript\r\nvar data = {\r\n\twidth: 640,   // px\r\n\theight: 360,  // px\r\n\tfps : 23.976, // 23.976 is the standard for US film\r\n\treels : [     // array of reel objects\r\n\t\t{ \r\n\t\t\tframes: 30, \t    // number of frames in this reel\r\n\t\t\twidth:2560, \t    // pixel width of this reel\r\n\t\t\tpath:\"reel.1.jpg\"   // path to reel\r\n\t\t},\r\n\t\t{ \r\n\t\t\tframes: 30, \t    // number of frames in this reel\r\n\t\t\twidth: 2560, \t    // pixel width of this reel\r\n\t\t\tpath:\"reel.2.jpg\"   // path to reel\r\n\t\t},\r\n\t\t{ \r\n\t\t\tframes: 30, \t    // number of frames in this reel\r\n\t\t\twidth:2560, \t    // pixel width of this reel\r\n\t\t\tpath:\"reel.3.jpg\"   // path to reel\r\n\t\t}\t\r\n    ]\r\n};\r\n```\r\n\r\nOnce you have the JSON, all you need to do is:\r\n```javascript\r\n// select film container\r\nvar div = document.getElementById('film-container');\r\n\r\n// initialize film\r\nvar film = new Animite(div, data);\r\n\r\nfilm.play(); // easy as that.\r\n```\r\n\r\n##Docs\r\n\r\n###Playback\r\n ``` film.play(callback) ``` \r\n\r\n ``` film.pause(callback) ``` \r\n\r\n ``` film.stop(callback) ``` \r\n\r\n ``` film.seek(frame, step) ``` \r\n\r\n ``` film.now ``` \r\n\r\n\r\n###Framerate\r\n ``` film.fps ``` \r\n\r\n\r\n###Preloading\r\n ``` film.preloaded ``` \r\n\r\n ``` film.preloaded.reels ``` \r\n\r\n ``` film.preloaded.frames ``` \r\n\r\n ``` film.preloaded.percent ``` \r\n\r\n\r\n###Keyframes\r\n ``` film.addKeyFrame(frame, track, comment, callback) ``` \r\n\r\n\r\n###Utility functions\r\n ``` film.timeToFrame(seconds) ``` \r\n\r\n ``` film.frameToTime(frame) ``` \r\n\r\n ``` film.frameToPos(frame) ``` \r\n\r\n ``` film.posToFrame(position) ``` \r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}